<html>
    <head>
        <meta charset="utf8"/>
        <link href="css/style.css" rel="stylesheet" />
    </head>
    <body>
        <div id="header" align="center">
            <h1 style="text-decoration: underline">fn-compare</h1>
            <p class="subheader">fn-compare is a small project developed by <a href="https://github.com/y21">y21</a> that allows you to compare the speed of two methods.</ph3>
        </div>
        <textarea id="input1">/* First code */</textarea>
        <textarea id="input2">/* Second code - gets compared with the first code */</textarea>
        <div id="buttons"><br/>
            Execute <input type="number" id="repeat" value="25" /> times <button id="comp">Compare</button>
        </div> <br/>
        <div id="debug">
        </div>
        <div id="source-gh">View source</div>
    </body>
    <script src="js/compare.min.js"></script> <!-- JavaScript file for Comparator (and CoreComp) class -->
    <script src="js/misc.js"></script> <!-- Miscellaneous methods and eventlisteners, e.g. view source button -->
    <script>
        document.getElementById('comp').addEventListener('click', () => {
            let stuff = new Comparator(document.getElementById('input1').value, document.getElementById('input2').value, document.getElementById('repeat').value);
            stuff.execute().then(val => {
                document.getElementById('debug').innerHTML = "<span class='" + (val == CoreComp.LEFT ? "green" : "red") + "'>Left code took <b>" + (stuff.timestamps.left[1]-stuff.timestamps.left[0]) + "</b>ms.</span><br/>";
                document.getElementById('debug').innerHTML += "<span class='" + (val == CoreComp.RIGHT ? "green" : "red") + "'>Right code took <b>" + (stuff.timestamps.right[1]-stuff.timestamps.right[0]) + "</b>ms.</span><br/>";
                document.getElementById('debug').style.display = 'block';
            }).catch(alert);
        });
        </script>
</html>