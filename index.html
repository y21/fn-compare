<html>
    <head>
        <meta charset="utf8"/>
        <style>
            body {
                background-color: #002b36;
                color: white;
            }
            #input1 {
                float: left;
                width: 49%;
                height: 50%;
                background: transparent;
                color: white;
            }
            #input2 {
                float: right;
                width: 49%;
                height: 50%;
                background: transparent;
                color: white;
            }
            #buttons {
                clear: both;
            }
            #repeat {
                width: 75px;
            }
            .green {
                color: lightgreen;
            }
            .red {
                color: Crimson;
            }
            #debug {
                display: none;
            }
        </style>
    </head>
    <body>
        <textarea id="input1">/* First code */</textarea>
        <textarea id="input2">/* Second code - gets compared with the first code */</textarea>
        <div id="buttons"><br/>
            Execute <input type="number" id="repeat" value="25" /> times <button id="comp">Compare</button>
        </div> <br/>
        <div id="debug">
        </div>
    </body>
    <script src="js/compare.js"></script> <!-- JavaScript file for Comparator (and CoreComp) class -->
    <script>
        document.getElementById('comp').addEventListener('click', () => {
            let stuff = new Comparator(document.getElementById('input1').value, document.getElementById('input2').value, document.getElementById('repeat').value);
            stuff.execute().then(val => {
                document.getElementById('debug').innerHTML = "<span class='" + (val == CoreComp.LEFT ? "green" : "red") + "'>Left code took <b>" + (stuff.timestamps.left[1]-stuff.timestamps.left[0]) + "</b>ms.</span><br/>";
                document.getElementById('debug').innerHTML += "<span class='" + (val == CoreComp.RIGHT ? "green" : "red") + "'>Right code took <b>" + (stuff.timestamps.right[1]-stuff.timestamps.right[0]) + "</b>ms.</span><br/>";
                document.getElementById('debug').style.display = 'block';
            }).catch(alert);
        });
        </script>
</html>